{
  "basic": {
    "description": "基础功能开关",
    "type": "object",
    "items": {
      "enable_memory": {
        "description": "启用记忆功能",
        "type": "bool",
        "default": true,
        "hint": "开启后AI会自动记住重要对话内容"
      },
      "enable_inject": {
        "description": "自动注入记忆到对话",
        "type": "bool",
        "default": true,
        "hint": "对话时自动带入相关的历史记忆"
      },
      "enable_emotion": {
        "description": "启用情感分析",
        "type": "bool",
        "default": true,
        "hint": "分析对话情感，提升记忆相关性"
      }
    }
  },
  "llm_processing": {
    "description": "LLM处理配置",
    "type": "object",
    "items": {
      "use_llm": {
        "description": "使用LLM增强处理",
        "type": "bool",
        "default": false,
        "hint": "开启后使用LLM进行消息摘要和记忆升级判断，质量更高但消耗token"
      },
      "max_context_memories": {
        "description": "注入记忆数量",
        "type": "int",
        "default": 3,
        "hint": "每次对话注入的相关记忆数量（1-10）"
      }
    }
  },
  "proactive_reply": {
    "description": "主动回复",
    "type": "object",
    "items": {
      "enable": {
        "description": "启用主动回复",
        "type": "bool",
        "default": false,
        "hint": "检测到用户需要回应时主动发送消息"
      },
      "max_daily": {
        "description": "每日最大主动回复数",
        "type": "int",
        "default": 20,
        "hint": "防止打扰用户"
      }
    }
  },
  "embedding": {
    "description": "向量嵌入配置",
    "type": "object",
    "items": {
      "strategy": {
        "description": "嵌入策略",
        "type": "string",
        "default": "auto",
        "enum": ["auto", "astrbot", "local"],
        "hint": "auto-自动选择，astrbot-使用AstrBot API，local-本地模型"
      },
      "model": {
        "description": "嵌入模型",
        "type": "string",
        "default": "BAAI/bge-small-zh-v1.5",
        "hint": "本地模型或API模型名称"
      },
      "dimension": {
        "description": "向量维度",
        "type": "int",
        "default": 512,
        "hint": "bge-small-zh为512，ada-002为1536，bge-m3为1024"
      }
    }
  },
  "log_level": {
    "description": "日志级别",
    "type": "string",
    "default": "INFO",
    "enum": ["DEBUG", "INFO", "WARNING", "ERROR"],
    "hint": "DEBUG显示最详细信息，推荐使用INFO"
  },
  "image_analysis": {
    "description": "图片分析",
    "type": "object",
    "items": {
      "enable": {
        "description": "启用图片分析",
        "type": "bool",
        "default": true,
        "hint": "使用Vision LLM分析对话中的图片内容"
      },
      "mode": {
        "description": "分析模式",
        "type": "string",
        "default": "auto",
        "options": ["auto", "brief", "detailed", "skip"],
        "hint": "auto-智能判断, brief-简要描述, detailed-详细分析, skip-跳过"
      },
      "max_images": {
        "description": "每条消息最多分析图片数",
        "type": "int",
        "default": 2,
        "hint": "超过此数量的图片将被跳过以节省Token"
      },
      "daily_budget": {
        "description": "每日分析次数上限",
        "type": "int",
        "default": 100,
        "hint": "每天最多分析的图片数量，0表示无限制"
      },
      "session_budget": {
        "description": "每会话分析次数上限",
        "type": "int",
        "default": 20,
        "hint": "每个会话最多分析的图片数量，0表示无限制"
      },
      "require_context": {
        "description": "需要上下文相关性",
        "type": "bool",
        "default": true,
        "hint": "仅当图片与对话相关时才分析，可减少无意义分析"
      }
    }
  },
  "advanced": {
    "description": "高级设置",
    "type": "object",
    "items": {
      "max_working_memory": {
        "description": "工作记忆数量",
        "type": "int",
        "default": 10,
        "hint": "会话内临时记忆数量上限"
      },
      "rif_threshold": {
        "description": "记忆淘汰阈值",
        "type": "float",
        "default": 0.4,
        "hint": "RIF评分低于此值的记忆会被淘汰（0.1-0.9）"
      },
      "token_budget": {
        "description": "记忆token预算",
        "type": "int",
        "default": 512,
        "hint": "注入记忆占用的token数量上限"
      },
      "session_timeout_hours": {
        "description": "会话超时时间（小时）",
        "type": "int",
        "default": 24,
        "hint": "会话多久未活动后关闭"
      },
      "upgrade_mode": {
        "description": "记忆升级模式",
        "type": "string",
        "default": "rule",
        "enum": ["rule", "llm", "hybrid"],
        "hint": "rule-规则判断，llm-LLM判断，hybrid-混合"
      }
    }
  }
}
